<aura:component implements="force:hasRecordId,force:hasSObjectName" access="global" controller="AuraFieldSetDisplayCont" >
    <aura:attribute name="fieldSetName" type="String" access="global"
                    description="The name of the field set to be displayed" />
    <aura:attribute name="tileTitle" type="String" access="global"
                    description="The title displayed in the tile" />
    <aura:attribute name="fields" type="String[]"
                    description="The fields to display in the component" />
    <aura:attribute name="numColumns" type="Integer" default="1" access="global"
                    description="The number of columns to display" />
    <aura:attribute name="recordMode" type="String" default="view" access="global"
                    description="The mode to display the component, valid values are view, readonly and edit"  />
    <aura:attribute name="objType" type="String" description="The sobject type"  access="global"/>
    <aura:attribute name="logo" type="String" description="The logo to display on the card" default="" access="global"/>

    <aura:handler name="init" action="{!c.doInit}" value="{!this}" />
    <aura:handler event="force:refreshView" action="{!c.doInit}" />
    <lightning:card variant="narrow" class="slds-theme_default">
        <aura:set attribute="title" >
            <lightning:layout multipleRows="false">
                <lightning:layoutItem size="1">
                    <lightning:icon iconName="{!'standard:'+v.logo}" size="small" />
                </lightning:layoutItem>
                <lightning:layoutItem class="slds-card__header-title">
                    {!v.tileTitle}
                </lightning:layoutItem>
            </lightning:layout>
        </aura:set>
        <div class="slds-card__body slds-card__body_inner">
            <aura:renderIf isTrue="{!and(not(empty(v.recordId)),not(empty(v.sObjectName)))}">
                <lightning:recordForm
                        aura:id="fieldSetDisplay"
                        recordId="{!v.recordId}"
                        objectApiName="{!v.sObjectName}"
                        fields="{!v.fields}"
                        columns="{!v.numColumns}"
                        mode="{!v.recordMode}"
                        density="auto"
                />
            </aura:renderIf>
        </div>
    </lightning:card>

</aura:component>