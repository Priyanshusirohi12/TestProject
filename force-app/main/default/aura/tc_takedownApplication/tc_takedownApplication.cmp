<!--
 - Created  on 1/3/18.
 -->

<aura:component description="Takedown Application" access="global"
                implements="forceCommunity:availableForAllPageTypes,force:hasRecordId,flexipage:availableForRecordHome,force:lightningQuickActionWithoutHeader"
                controller="TC_LoanApplicationCtrl">

    <aura:attribute name="recordId" type="String" access="global"/>
    <aura:attribute name="company" type="Object" access="global" default="{sobjectType : 'Account', BillingCountryCode : 'US', Status__c : 'Pending'}"/>
    <aura:attribute name="deal" type="Object" access="global" default="{sobjectType : 'Opportunity', StageName : '001 - Saved Deal', AutoConvert__c : false}"/>
    <aura:attribute name="guarantors" type="List" access="global" default="[]"/>
    <aura:attribute name="isMasterLine" type="Boolean" default="{!true}"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    
    <aura:if isTrue="{!v.isMasterLine}">
        <c:tc_loanApplication company="{!v.company}" guarantors="{!v.guarantors}" deal="{!v.deal}" applicationTitle="Submit Takedown" fromDetail="true"/>

        <aura:set attribute="else">
            <lightning:card title="Submit Takedown">
                <div class="slds-grid slds-align_absolute-center">
                    Submitting a Takedown is only available on Master Line Opportunities.
                </div>
            </lightning:card>
        </aura:set>
    </aura:if>
</aura:component>